# a: rails からユーザの登録情報（ひと月分）を持ってくる
# b: カレンダーを表示するためのデータを Rails 側で生成する
# 1 と 2 を合わせた json が渡ってくる。

<% environment.context_class.instance_eval { include ApplicationHelper } %>

class Week
  target_date: 0
  days_of_a_month: <%= days_of_a_month %>

  set_cal: ->
    target_date = parseInt(@target_date) + 7
    $(@days_of_a_month).each (i, day) ->
      if i < target_date
        $('#calendar').append("<p>#{day}</p>")

  prev_week: ->
    @target_date = parseInt(@target_date) + 7
    @set_cal()

$ ->
  week = new Week
  p week.target_date
  week.set_cal()
  $('#prev_week').on 'click', ->
    week.prev_week()
    # 前の一週間を表示する
  # $('#next_week').on 'click', ->
  #   alert 'hoi!!'
